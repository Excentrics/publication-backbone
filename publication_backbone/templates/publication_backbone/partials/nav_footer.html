{% load mptt_tags %}
{% if menu_items %}

  {% recursetree menu_items %}{# node is a Page #}

    {% if node.level <= 0 %}
      <div class="item">
        <h4><a href="{{ node.url }}" title="{{ node.title }}">{{ node.title }}</a></h4>
        {% if children %}<ul>{{ children }}</ul>{% endif %}
      </div>
    {% else %}
    <li class="level-{{node.level}}{% if node.is_active %} active{% endif %}{% if node.is_draft %} draft{% endif %}{% if node.is_last_child %} last{% endif %}">
      <a href="{{ node.url }}" title="{{ node.title }}">{{ node.title }}</a>
      {% if children %}<ul>{{ children }}</ul>{% endif %}
    </li>
    {% endif %}
  {% endrecursetree %}
{% else %}
<!-- No menu items returned -->
{% endif %}